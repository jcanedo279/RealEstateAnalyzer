{% extends 'base.html' %}

{% block page_specific_styles %}
<link href="{{ url_for('static', filename='styles/flash-message.css') }}" rel="stylesheet">
{% endblock %}

{% block content %}
<div class="container">
    <h1>Reset Your Password</h1>
    <form id="resetForm">
        {% if current_user.is_authenticated %}
        <p>Your password reset link will be sent to your registered email: {{ current_user.email }}</p>
        <input type="hidden" id="deducedEmail" value="{{ current_user.email }}">
        {% else %}
        <label for="email">Email:</label>
        <input type="email" id="email" name="email" required placeholder="Enter your email">
        <div class="spacer"></div>
        <button type="submit" class="btn">Send Reset Link</button>
        {% endif %}
        <div data-flash-area="reset" class="message-container"></div>
    </form>
    <div>
        <div class="spacer"></div>
        <a href="{{ url_for('login') }}">Return to login</a>
    </div>
</div>
<script type="module" src="{{ url_for('static', filename='scripts/reset_password/reset-password.js') }}"></script>
<script type="module" src="{{ url_for('static', filename='scripts/util/flashMessageHandler.js') }}"></script>
{% endblock %}
